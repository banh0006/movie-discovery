(this["webpackJsonpmovie-discovery"]=this["webpackJsonpmovie-discovery"]||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(25),o=a.n(c),i=(a(81),a(9)),s=(a(82),a(29)),l=a(12),u=a(15),m=a(139),v=a(140),f=a(141),p=a(142),d=a(143),E=a(155),b=a(154),h=a(156),O=a(144),g=(a(83),a(69));a(84);function j(){return r.a.createElement("form",{className:"search-box",onSubmit:function(e){e.preventDefault(),alert("Searching...")}},r.a.createElement("input",{type:"text",className:"input",placeholder:"Movie name..."}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement(g.a,null)))}var S=a(41),w=a.n(S),y=a(70);function _(e){return C.apply(this,arguments)}function C(){return(C=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=2;break}return e.abrupt("return",t.data);case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw a=e.sent,new Error(a);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){throw console.error("API call failed. "+e),e}var M="323c169d6502f84d4a8a225e5732db2c",x="https://api.themoviedb.org/3/",P="Recommend Movies",k=["United States","France","Canada","Italy","United Kingdom","Russia","Korean","Japan","Hongkong","China","South Africa","Brazil"],T=a(28),L=a.n(T);function R(){return function(e){return L.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=323c169d6502f84d4a8a225e5732db2c").then(_).catch(N).then((function(t){e({type:"LOAD_GENRES_SUCCESS",genres:t.genres})})).catch((function(e){throw console.error(e),e}))}}var D=a(14),A=a(13);var I=Object(D.b)((function(e){return{genres:0===e.genres.length?[]:e.genres,textColor:e.navbar.textColor}}),(function(e){return{actions:{loadGenres:Object(A.b)(R,e)}}}))((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)([]),g=Object(i.a)(l,2),S=g[0],w=g[1],y=k,_=Object(n.useState)(Object(u.a)({},e.showNav)),C=Object(i.a)(_,2),N=C[0],M=C[1],x=Object(n.useState)(Object(u.a)({},e.isTransparent)),P=Object(i.a)(x,2),T=P[0],L=P[1],R=Object(n.useState)(!1),D=Object(i.a)(R,2),A=D[0],I=D[1];return Object(n.useEffect)((function(){M(e.showNav)}),[e.showNav]),Object(n.useEffect)((function(){L(e.isTransparent)}),[e.isTransparent]),Object(n.useEffect)((function(){e.actions.loadGenres();var t=[];y.map((function(e,a){t.push(r.a.createElement(m.a,{key:a},e))})),w(t)}),[]),Object(n.useEffect)((function(){if(e.genres.length>0){var t=[];e.genres.map((function(e,a){t.push(r.a.createElement(m.a,{key:a},e.name))})),o(t)}}),[e.genres]),r.a.createElement(v.a,{fixed:"top",expand:"md",className:"".concat(N?"nav-show":"nav-hide"," ").concat(T?"transparent-nav":"non-transparent")},r.a.createElement(s.b,{to:"/",className:e.textColor+" navbar-brand"},"Home"),r.a.createElement(f.a,{onClick:function(){return I(!A)}}),r.a.createElement(p.a,{isOpen:A,navbar:!0},r.a.createElement(d.a,{className:"mr-auto ".concat(e.textColor),navbar:!0},r.a.createElement(E.a,{nav:!0,inNavbar:!0},r.a.createElement(b.a,{nav:!0,caret:!0},"Genre"),r.a.createElement(h.a,{right:!0},c)),r.a.createElement(E.a,{nav:!0,inNavbar:!0},r.a.createElement(b.a,{nav:!0,caret:!0},"Country"),r.a.createElement(h.a,{right:!0},S)),r.a.createElement(O.a,null,r.a.createElement(s.b,{className:"nav-link",to:"/toprated"},"Top Rated")),r.a.createElement(O.a,null,r.a.createElement(s.b,{className:"nav-link",to:"/popular"},"Popular"))),r.a.createElement(O.a,{className:"input-search"},r.a.createElement(j,null))))})),U=a(36),V=a(30);function G(e){var t=x+"movie/popular?api_key="+M+"&page=".concat(e);return L.a.get(t)}function B(e){var t=x+"movie/top_rated?api_key="+M+"&page=".concat(e);return L.a.get(t)}function H(){return function(e){return L.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key=323c169d6502f84d4a8a225e5732db2c&page=1").then(_).catch(N).then((function(t){var a=[],n=[];if(!(t.results<0)){if(t.results.length>5)for(var r=0;r<5;r++)a.push(t.results[r]);else{var c,o=Object(U.a)(t.results);try{for(o.s();!(c=o.n()).done;){var i=c.value;a.push(i)}}catch(v){o.e(v)}finally{o.f()}}if(t.results.length>20)for(var s=0;s<20;s++)n.push(t.results[s]);else{var l,u=Object(U.a)(t.results);try{for(u.s();!(l=u.n()).done;){var m=l.value;n.push(m)}}catch(v){u.e(v)}finally{u.f()}}e({type:"LOAD_NOW_PLAYING_MOVIE_SUCCESS",movies:a}),e(function(e){return{type:"LOAD_RECOMMENDED_MOVIE_SUCCESS",movies:e}}(n))}})).catch((function(e){throw console.error(e),e}))}}function W(){return function(e){return function(){for(var e=[],t=1;t<=20;t++)e.push(G(t));return Promise.all(e).then((function(e){var t=[];return e.map((function(e){e.data.results&&t.push.apply(t,Object(V.a)(e.data.results))})),t})).catch(N)}().then((function(t){e({type:"LOAD_POPULAR_MOVIE_SUCCESS",movies:t})})).catch((function(e){throw console.error(e),e}))}}function X(){return function(e){return function(){for(var e=[],t=1;t<=20;t++)e.push(B(t));return Promise.all(e).then((function(e){var t=[];return e.map((function(e){e.data.results&&t.push.apply(t,Object(V.a)(e.data.results))})),t})).catch(N)}().then((function(t){e({type:"LOAD_TOP_RATED_MOVIE_SUCCESS",movies:t})})).catch((function(e){throw console.error(e),e}))}}var J=a(74),Y=a(145),q=a(146),z=a(147),K=a(148);function F(e){return{type:"SET_TEXT_COLOR",color:e}}a(132);var $=Object(D.b)((function(e){return{nowPlaying:0===e.movies.nowPlaying.length?[]:e.movies.nowPlaying,textColor:e.navbar.textColor}}),(function(e){return{actions:{setTextColor:Object(A.b)(F,e)}}}))((function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2),u=l[0],m=l[1],v=Object(n.useState)([]),f=Object(i.a)(v,2),p=f[0],d=f[1],E=Object(n.useState)([]),b=Object(i.a)(E,2),h=b[0];b[1],Object(n.useEffect)((function(){if(e.nowPlaying){var t=[];e.nowPlaying.map((function(e,a){S("".concat("https://image.tmdb.org/t/p/w1280").concat(e.backdrop_path),a),t.push({src:"".concat("https://image.tmdb.org/t/p/w1280").concat(e.backdrop_path),altText:e.original_title,caption:e.original_title,overview:e.overview})})),d(t)}}),[e.nowPlaying]),Object(n.useEffect)((function(){p.length>0&&h.length>0&&h[c]!==e.textColor&&("dark"===e.textColor?e.actions.setTextColor("light"):e.actions.setTextColor("dark"))}),[c]);var O=function(){if(!u){var e=c===p.length-1?0:c+1;o(e)}},g=function(){if(!u){var e=0===c?p.length-1:c-1;o(e)}},j=p.map((function(t){return r.a.createElement(J.a,{onExiting:function(){return m(!0)},onExited:function(){return m(!1)},key:t.src},r.a.createElement("img",{src:t.src,alt:t.altText}),r.a.createElement(Y.a,{className:e.textColor,captionText:t.overview,captionHeader:t.caption}))})),S=function(e,t){var a=document.createElement("img");a.src=e,a.setAttribute("crossOrigin",""),a.style.display="none",document.body.appendChild(a);a.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height;var a=e.getContext("2d");a.drawImage(this,0,0);for(var n,r,c,o=a.getImageData(0,0,e.width,e.height).data,i=0,s=0,l=0,u=o.length;l<u;l+=4)n=o[l],r=o[l+1],c=o[l+2],Math.max(Math.max(n,r),c)<128?s++:i++;if((i-s)/(this.width*this.height)+.1<0)[].concat(Object(V.a)(h),[h[t]="light"]);else[].concat(Object(V.a)(h),[h[t]="dark"])}};return r.a.createElement(q.a,{activeIndex:c,next:O,previous:g},r.a.createElement(z.a,{items:p,activeIndex:c,onClickHandler:function(e){u||o(e)}}),j,r.a.createElement(K.a,{direction:"prev",directionText:"Previous",onClickHandler:g}),r.a.createElement(K.a,{direction:"next",directionText:"Next",onClickHandler:O}))}));function Q(e){return r.a.createElement("div",{className:"section-heading"},r.a.createElement("h2",{className:"section-title",style:{margin:"2rem 0 0 0"}},e.sectionTitle))}var Z=a(47);a(133);var ee=Object(D.b)((function(e){return{genres:e.genres}}))((function(e){return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"image-card"},r.a.createElement("img",{className:"movie-img",src:"https://image.tmdb.org/t/p/w500"+e.movie.poster_path,alt:e.movie.title}),r.a.createElement("div",{className:"movie-info"},r.a.createElement(Z.a,{color:"#fff"}),r.a.createElement("div",{className:"info-text"},r.a.createElement("h3",{className:"title"},e.movie.title),r.a.createElement("p",{className:"overview"},e.movie.overview),r.a.createElement("p",{className:"genre"},"Genre: "+function(t){var a=[];return e.genres.map((function(e){var n,r=Object(U.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;e.id===c&&a.push(e.name)}}catch(o){r.e(o)}finally{r.f()}})),a=a.join(", ")}(e.movie.genre_ids)),r.a.createElement("p",{className:"release-date"},e.movie.release_date),r.a.createElement("p",{className:"rate"},r.a.createElement(Z.b,{color:"yellow",size:22}),e.movie.vote_average)))))}));function te(e){var t=e.movieList.map((function(e){return r.a.createElement(ee,{key:e.id,movie:e})}));return r.a.createElement("div",{className:"movie-list"},t)}var ae=a(149);a(134);var ne=Object(D.b)((function(e){return{recommended:0===e.movies.recommendedMovies.length?[]:e.movies.recommendedMovies}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)([]),l=Object(i.a)(s,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){switch(o(e.sectionName),e.sectionName){case P:m(e.recommended)}}),[e.recommended]),r.a.createElement(ae.a,{className:"movie-section"},r.a.createElement("div",null,r.a.createElement(Q,{sectionTitle:c})),r.a.createElement("div",null,r.a.createElement(te,{movieList:u})))})),re=a(150);a(135);var ce=Object(D.b)((function(e){return{nowPlaying:0===e.movies.nowPlaying.length?[]:e.movies.nowPlaying}}),(function(e){return{actions:{loadNowPlayingMovies:Object(A.b)(H,e)}}}))((function(e){return Object(n.useEffect)((function(){e.actions.loadNowPlayingMovies()}),[]),r.a.createElement(ae.a,null,r.a.createElement(re.a,null,r.a.createElement($,null)),r.a.createElement(re.a,null,r.a.createElement(ne,{sectionName:P})))}));function oe(){return r.a.createElement("div",null,"Movie Detail")}var ie=a(151),se=a(152),le=a(153);a(136);function ue(e){var t=e.moviesPerPage,a=e.totalMovies,c=e.currentPage,o=e.paginate,s=Object(n.useState)(0),l=Object(i.a)(s,2),u=l[0],m=l[1],v=Object(n.useState)([]),f=Object(i.a)(v,2),p=f[0],d=f[1],E=Object(n.useState)(c),b=Object(i.a)(E,2),h=b[0],O=b[1];return Object(n.useEffect)((function(){O(c)}),[c]),Object(n.useEffect)((function(){for(var e=[],n=1;n<=Math.ceil(a/t);n++)e.push(n);m(e)}),[a]),Object(n.useEffect)((function(){if(u.length>0){var e=u.map((function(e){return r.a.createElement(ie.a,{key:e,className:h===e?"active-page":""},r.a.createElement(se.a,{previous:!0,href:"#popular-movies",onClick:function(){return function(e){o(e),O(e)}(e)}},e))}));d(e)}else d([])}),[u,h]),r.a.createElement(le.a,{"aria-label":"Page navigation example"},r.a.createElement(ie.a,null,r.a.createElement(se.a,{first:!0,href:"#popular-movies",onClick:function(){o(1),O(1)}})),r.a.createElement(ie.a,null,r.a.createElement(se.a,{previous:!0,href:"#popular-movies",onClick:function(){c>1&&(o(c-1),O(c-1))}})),p,r.a.createElement(ie.a,null,r.a.createElement(se.a,{next:!0,href:"#popular-movies",onClick:function(){c<u.length&&(o(c+1),O(c+1))}})),r.a.createElement(ie.a,null,r.a.createElement(se.a,{last:!0,href:"#popular-movies",onClick:function(){var e=u.length;o(e),O(e)}})))}var me=Object(D.b)((function(e){return{topRatedMovies:0===e.movies.topRatedMovies.length?[]:e.movies.topRatedMovies}}),(function(e){return{actions:{loadTopRatedMovies:Object(A.b)(X,e)}}}))((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(1),l=Object(i.a)(s,2),u=l[0],m=l[1],v=40*u,f=v-40,p=c.slice(f,v),d={topRatedMovieContainer:{margin:"0 1rem"},paginationBar:{justifyContent:"center",alignItems:"center"}};return Object(n.useEffect)((function(){0===c.length&&e.actions.loadTopRatedMovies()}),[]),Object(n.useEffect)((function(){o(e.topRatedMovies)}),[e.topRatedMovies]),r.a.createElement(ae.a,null,r.a.createElement(re.a,{className:"filter-bar"}),r.a.createElement(re.a,{className:"top-rated-movies",id:"top-rated-movies"},r.a.createElement("div",{className:"top-rated-movie-list",style:d.topRatedMovieContainer},r.a.createElement(te,{movieList:p}))),r.a.createElement(re.a,{className:"pagination-bar",style:d.paginationBar},r.a.createElement(ue,{moviesPerPage:40,totalMovies:c.length,currentPage:u,paginate:function(e){return m(e)}})))}));var ve=Object(D.b)((function(e){return{popularMovies:0===e.movies.popularMovies.length?[]:e.movies.popularMovies}}),(function(e){return{actions:{loadPopularMovies:Object(A.b)(W,e)}}}))((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(1),l=Object(i.a)(s,2),u=l[0],m=l[1],v=40*u,f=v-40,p=c.slice(f,v),d={popularMovieContainer:{margin:"0 1rem"},paginationBar:{justifyContent:"center",alignItems:"center"}};return Object(n.useEffect)((function(){0===c.length&&e.actions.loadPopularMovies()}),[]),Object(n.useEffect)((function(){o(e.popularMovies)}),[e.popularMovies]),r.a.createElement(ae.a,null,r.a.createElement(re.a,{className:"filter-bar"}),r.a.createElement(re.a,{className:"popular-movies",id:"popular-movies"},r.a.createElement("div",{className:"popular-movie-list",style:d.popularMovieContainer},r.a.createElement(te,{movieList:p}))),r.a.createElement(re.a,{className:"pagination-bar",style:d.paginationBar},r.a.createElement(ue,{moviesPerPage:40,totalMovies:c.length,currentPage:u,paginate:function(e){return m(e)}})))}));var fe=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),u=Object(i.a)(o,2),m=u[0],v=u[1],f=Object(n.useState)(0),p=Object(i.a)(f,2),d=p[0],E=p[1],b=Object(n.useState)(0),h=Object(i.a)(b,2),O=h[0],g=h[1],j=function(){var e=window.pageYOffset;if(O<=0&&document.querySelector(".carousel")){var t=document.querySelector(".carousel").clientHeight;g(t)}c(d>e),v(!(e>O)),E(e)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",j),function(){window.removeEventListener("scroll",j)}})),r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(I,{showNav:a,isTransparent:m}),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/popular",component:ve}),r.a.createElement(l.a,{path:"/toprated",component:me}),r.a.createElement(l.a,{path:"/details",component:oe}),r.a.createElement(l.a,{path:"/",component:ce}))))};a(137),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe={nowPlaying:[],searchMovies:[],recommendedMovies:[],topRatedMovies:[],popularMovies:[]};var de={textColor:"dark"};var Ee=Object(A.c)({genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_GENRES_SUCCESS":return t.genres;default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_NOW_PLAYING_MOVIE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{nowPlaying:t.movies});case"LOAD_RECOMMENDED_MOVIE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{recommendedMovies:t.movies});case"LOAD_POPULAR_MOVIE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{popularMovies:t.movies});case"LOAD_TOP_RATED_MOVIE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{topRatedMovies:t.movies});case"LOAD_LATEST_MOVIES":return Object(u.a)(Object(u.a)({},e),{},{latestMovies:t.latestMovies});case"LOAD_TRENDING_MOVIES":return Object(u.a)(Object(u.a)({},e),{},{trendingMovies:t.trendingMovies});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEXT_COLOR":return{textColor:t.color};default:return e}}}),be=a(75);var he=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d;return Object(A.e)(Ee,e,t(Object(A.a)(be.a)))}();o.a.render(r.a.createElement(D.a,{store:he},r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){e.exports=a(138)},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.08bac224.chunk.js.map