(this["webpackJsonpmovie-discovery"]=this["webpackJsonpmovie-discovery"]||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(29),i=a.n(c),o=(a(85),a(5)),s=a(12),l=(a(90),a(26)),u=a(15),m=a(8),f=a(144),v=a(145),p=a(146),b=a(147),O=a(148),d=a(159),E=a(160),g=a(161),h=a(149),j=(a(91),a(72));a(92);function y(){var e=Object(u.f)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1];return r.a.createElement("form",{className:"search-box",onSubmit:function(t){t.preventDefault(),c.length>0?e.push("/search",{searchString:c}):alert("Please input search key words")}},r.a.createElement("input",{type:"text",className:"input",placeholder:"Movie name...",value:c,onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement(j.a,null)))}var S=a(47),N=a.n(S),_=a(73);function w(e){return M.apply(this,arguments)}function M(){return(M=Object(_.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=2;break}return e.abrupt("return",t.data);case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw a=e.sent,new Error(a);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){throw console.error("API call failed. "+e),e}var k="323c169d6502f84d4a8a225e5732db2c",P="https://api.themoviedb.org/3/",D="Recommend Movies",T="Upcoming Movies",I=["United States","France","Canada","Italy","United Kingdom","Russia","Korean","Japan","Hongkong","China","India","Brazil"],x=[2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010],R=["Default","Release Date","Name","Rate","Most Watched"],A=a(19),L=a.n(A);function U(){return function(e){return L.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=323c169d6502f84d4a8a225e5732db2c").then(w).catch(C).then((function(t){e({type:"LOAD_GENRES_SUCCESS",genres:t.genres})})).catch((function(e){throw console.error(e),e}))}}var H=a(11);var G=Object(s.b)((function(e){return{genres:0===e.genres.length?[]:e.genres,textColor:e.navbar.textColor}}),(function(e){return{actions:{loadGenres:Object(H.b)(U,e)}}}))((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),j=u[0],S=u[1],N=I,_=Object(n.useState)(Object(m.a)({},e.showNav)),w=Object(o.a)(_,2),M=w[0],C=w[1],k=Object(n.useState)(Object(m.a)({},e.isTransparent)),P=Object(o.a)(k,2),D=P[0],T=P[1],x=Object(n.useState)(!1),R=Object(o.a)(x,2),A=R[0],L=R[1];return Object(n.useEffect)((function(){C(e.showNav)}),[e.showNav]),Object(n.useEffect)((function(){T(e.isTransparent)}),[e.isTransparent]),Object(n.useEffect)((function(){e.actions.loadGenres();var t=[];N.map((function(e,a){return t.push(r.a.createElement(f.a,{key:a},e)),null})),S(t)}),[]),Object(n.useEffect)((function(){if(e.genres.length>0){var t=[];e.genres.map((function(e,a){return t.push(r.a.createElement(f.a,{key:a},e.name)),null})),i(t)}}),[e.genres]),r.a.createElement(v.a,{fixed:"top",dark:!0,expand:"md",className:"".concat(M?"nav-show":"nav-hide"," ").concat(D?"transparent-nav":"non-transparent")},r.a.createElement(l.b,{to:"/",className:"navbar-brand"},"Home"),r.a.createElement(p.a,{onClick:function(){return L(!A)}}),r.a.createElement(b.a,{isOpen:A,navbar:!0},r.a.createElement(O.a,{className:"mr-auto",navbar:!0},r.a.createElement(d.a,{nav:!0,inNavbar:!0},r.a.createElement(E.a,{nav:!0,caret:!0},"Genre"),r.a.createElement(g.a,{right:!0},c)),r.a.createElement(d.a,{nav:!0,inNavbar:!0},r.a.createElement(E.a,{nav:!0,caret:!0},"Country"),r.a.createElement(g.a,{right:!0},j)),r.a.createElement(h.a,null,r.a.createElement(l.b,{className:"nav-link",to:"/toprated"},"Top Rated")),r.a.createElement(h.a,null,r.a.createElement(l.b,{className:"nav-link",to:"/popular"},"Popular"))),r.a.createElement(h.a,{className:"input-search"},r.a.createElement(y,null))))})),V=a(24),B=a(38);function F(e){var t=P+"movie/popular?api_key="+k+"&page=".concat(e);return L.a.get(t)}function W(e){var t=P+"movie/top_rated?api_key="+k+"&page=".concat(e);return L.a.get(t)}function Y(){return function(e){return L.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key=323c169d6502f84d4a8a225e5732db2c&page=1").then(w).catch(C).then((function(t){var a=[],n=[];if(!(t.results<0)){if(t.results.length>5)for(var r=0;r<5;r++)a.push(t.results[r]);else{var c,i=Object(V.a)(t.results);try{for(i.s();!(c=i.n()).done;){var o=c.value;a.push(o)}}catch(f){i.e(f)}finally{i.f()}}if(t.results.length>20)for(var s=0;s<20;s++)n.push(t.results[s]);else{var l,u=Object(V.a)(t.results);try{for(u.s();!(l=u.n()).done;){var m=l.value;n.push(m)}}catch(f){u.e(f)}finally{u.f()}}e({type:"LOAD_NOW_PLAYING_MOVIE_SUCCESS",movies:a}),e(function(e){return{type:"LOAD_RECOMMENDED_MOVIE_SUCCESS",movies:e}}(n))}})).catch((function(e){throw console.error(e),e}))}}function z(){return function(e){return L.a.get("https://api.themoviedb.org/3/movie/upcoming?api_key=323c169d6502f84d4a8a225e5732db2c&page=1").then(w).catch(C).then((function(t){var a=[];if(!(t.results<0)){if(t.results.length>20)for(var n=0;n<20;n++)a.push(t.results[n]);else{var r,c=Object(V.a)(t.results);try{for(c.s();!(r=c.n()).done;){var i=r.value;a.push(i)}}catch(o){c.e(o)}finally{c.f()}}e({type:"LOAD_UPCOMING_MOVIE_SUCCESS",movies:a})}}))}}function J(){return function(e){return function(){for(var e=[],t=1;t<=20;t++)e.push(F(t));return Promise.all(e).then((function(e){var t=[];return e.map((function(e){return e.data.results&&t.push.apply(t,Object(B.a)(e.data.results)),null})),t})).catch(C)}().then((function(t){e({type:"LOAD_POPULAR_MOVIE_SUCCESS",movies:t})})).catch((function(e){throw console.error(e),e}))}}function K(){return function(e){return function(){for(var e=[],t=1;t<=20;t++)e.push(W(t));return Promise.all(e).then((function(e){var t=[];return e.map((function(e){return e.data.results&&t.push.apply(t,Object(B.a)(e.data.results)),null})),t})).catch(C)}().then((function(t){e({type:"LOAD_TOP_RATED_MOVIE_SUCCESS",movies:t})})).catch((function(e){throw console.error(e),e}))}}function q(e){return{type:"SET_HOME_PAGE",value:e}}var X=a(77),$=a(150),Q=a(151),Z=a(152),ee=a(153);a(136);var te=Object(s.b)((function(e){return{nowPlaying:0===e.movies.nowPlaying.length?[]:e.movies.nowPlaying}}))((function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(!1),l=Object(o.a)(s,2),u=l[0],m=l[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),p=v[0],b=v[1];Object(n.useEffect)((function(){if(e.nowPlaying){var t=[];e.nowPlaying.map((function(e){return t.push({src:"".concat("https://image.tmdb.org/t/p/w1280").concat(e.backdrop_path),altText:e.original_title,caption:e.original_title,overview:e.overview}),null})),b(t)}}),[e.nowPlaying]);var O=function(){if(!u){var e=c===p.length-1?0:c+1;i(e)}},d=function(){if(!u){var e=0===c?p.length-1:c-1;i(e)}},E=p.map((function(t){return r.a.createElement(X.a,{onExiting:function(){return m(!0)},onExited:function(){return m(!1)},key:t.src},r.a.createElement("img",{src:t.src,alt:t.altText}),r.a.createElement($.a,{className:e.textColor,captionText:t.overview,captionHeader:t.caption}))}));return r.a.createElement(Q.a,{activeIndex:c,next:O,previous:d},r.a.createElement(Z.a,{items:p,activeIndex:c,onClickHandler:function(e){u||i(e)}}),E,r.a.createElement(ee.a,{direction:"prev",directionText:"Previous",onClickHandler:d}),r.a.createElement(ee.a,{direction:"next",directionText:"Next",onClickHandler:O}))}));function ae(e){return r.a.createElement("div",{className:"section-heading"},r.a.createElement("h2",{className:"section-title"},e.sectionTitle))}var ne=a(37);a(137);var re=Object(s.b)((function(e){return{genres:e.genres}}))((function(e){return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"image-card"},r.a.createElement("img",{className:"movie-img",src:"https://image.tmdb.org/t/p/w500"+e.movie.poster_path,alt:e.movie.title}),r.a.createElement("div",{className:"movie-info"},r.a.createElement(ne.b,{color:"#fff"}),r.a.createElement("div",{className:"info-text"},r.a.createElement("h3",{className:"title"},e.movie.title),r.a.createElement("p",{className:"overview"},e.movie.overview),r.a.createElement("p",{className:"genre"},"Genre: "+function(t){var a=[];return e.genres.map((function(e){var n,r=Object(V.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;e.id===c&&a.push(e.name)}}catch(i){r.e(i)}finally{r.f()}return null})),a=a.join(", ")}(e.movie.genre_ids)),r.a.createElement("p",{className:"release-date"},e.movie.release_date),r.a.createElement("p",{className:"rate"},r.a.createElement(ne.c,{color:"yellow",size:22}),e.movie.vote_average)))))}));function ce(e){var t=e.movieList.map((function(e){return r.a.createElement(re,{key:e.id,movie:e})}));return r.a.createElement("div",{className:"movie-list"},t)}var ie=a(154);a(138);var oe=Object(s.b)((function(e){return{recommended:e.movies.recommendedMovies,upcoming:e.movies.upcomingMovies}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){switch(i(e.sectionName),e.sectionName){case D:m(e.recommended);break;case T:m(e.upcoming)}}),[e.recommended,e.upcoming]),r.a.createElement(ie.a,{className:"movie-section"},r.a.createElement("div",null,r.a.createElement(ae,{sectionTitle:c})),r.a.createElement("div",null,r.a.createElement(ce,{movieList:u})))})),se=a(155);a(139);var le=Object(s.b)((function(e){return{}}),(function(e){return{actions:{loadNowPlayingMovies:Object(H.b)(Y,e),loadUpcomingMovies:Object(H.b)(z,e),setHomePage:Object(H.b)(q,e)}}}))((function(e){return Object(n.useEffect)((function(){e.actions.setHomePage(!0),e.actions.loadNowPlayingMovies(),e.actions.loadUpcomingMovies()}),[]),r.a.createElement(ie.a,null,r.a.createElement(se.a,null,r.a.createElement(te,null)),r.a.createElement(se.a,{style:{"margin-top":"2rem"}},r.a.createElement(oe,{sectionName:D})),r.a.createElement(se.a,null,r.a.createElement(oe,{sectionName:T})))}));function ue(){return r.a.createElement("div",null,"Movie Detail")}var me=function(e,t){var a=[];return 0===e.length||t.map((function(t){var n,r=Object(V.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.name===c&&a.push(t.id)}}catch(i){r.e(i)}finally{r.f()}return null})),a},fe=function(e,t){return new Date(e.release_date)>new Date(t.release_date)},ve=function(e,t){return e.title.localeCompare(t.title)},pe=function(e,t){return e.vote_average===t.vote_average?0:e.vote_average>t.vote_average?-1:1},be=function(e,t){return e.popularity===t.popularity?0:e.popularity>t.popularity?1:-1},Oe=function(e,t){return 0===e.length||e.every((function(e){return t.genre_ids.includes(e)}))},de=function(e,t){return 0===e.length||!!t.release_date&&e.includes(t.release_date.substring(0,4))},Ee=function(e,t){return 0===e.length||!!t.original_language&&function(e){var t=[];return e.map((function(e){t.push(function(e){switch(e){case"United Kingdom":return"en";case"France":return"fr";case"Italy":return"it";case"Russia":return"ru";case"Korean":return"ko";case"Japan":return"ja";case"China":return"zh";case"Brazil":return"pt";case"India":return"hi";default:return"en"}}(e))})),t}(e).includes(t.original_language)},ge=function(e,t){switch(t){case"Default":return e;case"Release Date":return e.sort(fe);case"Name":return e.sort(ve);case"Rate":return e.sort(pe);case"Most Watched":return e.sort(be);default:return e}},he=a(27);function je(e){return{type:"SET_FILTER_OPTION",options:e}}var ye=a(74),Se=(a(140),a(78)),Ne=a(41);var _e=Object(s.b)((function(e){return{genres:0===e.genres.length?[]:e.genres,filterOptions:e.filterbar}}),(function(e){return{actions:{setFilterOptions:Object(H.b)(je,e)}}}))((function(e){var t=I,a=x,c=R,i=Object(n.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),p=v[0],b=v[1],j=Object(n.useState)([]),y=Object(o.a)(j,2),S=y[0],N=y[1],_=Object(n.useState)([]),w=Object(o.a)(_,2),M=w[0],C=w[1],k=Object(n.useState)([]),P=Object(o.a)(k,2),D=P[0],T=P[1],A=Object(n.useState)([]),L=Object(o.a)(A,2),U=L[0],H=L[1],G=Object(n.useState)([]),V=Object(o.a)(G,2),B=V[0],F=V[1],W=Object(n.useState)({sortType:"Default"}),Y=Object(o.a)(W,2),z=Y[0],J=Y[1],K=Object(n.useState)("All"),q=Object(o.a)(K,2),X=q[0],$=q[1],Q=Object(n.useState)("All"),Z=Object(o.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(n.useState)("All"),re=Object(o.a)(ae,2),ce=re[0],ie=re[1],oe=Object(n.useState)("Default"),se=Object(o.a)(oe,2),le=se[0],ue=se[1],me=function(e){var t=e.target,a=t.name,n=t.checked;T((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(he.a)({},a,n))}))},fe=function(e){var t=e.target,a=t.name,n=t.checked;H((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(he.a)({},a,n))}))},ve=function(e){var t=e.target,a=t.name,n=t.checked;F((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(he.a)({},a,n))}))},pe=function(e){var t=e.target.value;J((function(e){return Object(m.a)(Object(m.a)({},e),{},{sortType:t})})),ue(t)},be=function(e){return 0===function(e){return Object.keys(e).length}(e)?0:Object.values(e).reduce((function(e,t){return e+(!0===t?1:0)}),0)},Oe=function(e){return Object.keys(e).find((function(t){return!0===e[t]}))},de=function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(o.a)(n[a],2),c=r[0];!0===r[1]&&t.push(c)}return t};return Object(n.useEffect)((function(){var e=[],n=[],i=[];t.map((function(t,a){return e.push(r.a.createElement("div",{key:a,className:"dropdown-item country-filter-item"},r.a.createElement("input",{type:"checkbox",name:t,checked:B[t],onChange:ve}),t)),null})),a.map((function(e,t){return n.push(r.a.createElement("div",{key:t,className:"dropdown-item year-filter-item"},r.a.createElement("input",{type:"checkbox",name:e,checked:U[e],onChange:fe}),e)),null})),c.map((function(e,t){return i.push(r.a.createElement("div",{key:t,className:"dropdown-item sort-filter-item"},r.a.createElement("input",{type:"radio",name:"sort",key:t,value:e,onChange:pe}),e)),null})),u(e),b(n),N(i)}),[]),Object(n.useEffect)((function(){var e=[];a.map((function(t,a){return e.push(r.a.createElement("div",{key:a,className:"dropdown-item year-filter-item"},r.a.createElement("input",{type:"checkbox",name:t,checked:U[t],onChange:fe}),t)),b(e),null}))}),[U]),Object(n.useEffect)((function(){var e=[];t.map((function(t,a){return e.push(r.a.createElement("div",{key:a,className:"dropdown-item country-filter-item"},r.a.createElement("input",{type:"checkbox",name:t,checked:B[t],onChange:ve}),t)),u(e),null}))}),[B]),Object(n.useEffect)((function(){var e=[];c.map((function(t,a){return e.push(r.a.createElement("div",{key:a,className:"dropdown-item sort-filter-item"},r.a.createElement("input",{type:"radio",name:"sort",key:a,checked:z.sortType===t,value:t,onChange:pe}),t)),N(e),null}))}),[z]),Object(n.useEffect)((function(){if(e.genres.length>0){var t=[];e.genres.map((function(e,a){return t.push(r.a.createElement("div",{key:a,className:"dropdown-item genre-filter-item"},r.a.createElement("input",{type:"checkbox",name:e.name,checked:D[e.name],onChange:me}),e.name)),null})),C(t)}}),[e.genres,D]),Object(n.useEffect)((function(){var t=be(D);if(0===t)$("All");else if(1===t){var a=Oe(D);$(a)}else $("".concat(t," selected"));var n=de(D);e.actions.setFilterOptions(Object(m.a)(Object(m.a)({},e.filterOptions),{},{genres:n}))}),[D]),Object(n.useEffect)((function(){var t=be(U);if(0===t)te("All");else if(1===t){var a=Oe(U);te(a)}else te("".concat(t," selected"));var n=de(U);e.actions.setFilterOptions(Object(m.a)(Object(m.a)({},e.filterOptions),{},{years:n}))}),[U]),Object(n.useEffect)((function(){var t=be(B);if(0===t)ie("All");else if(1===t){var a=Oe(B);ie(a)}else ie("".concat(t," selected"));var n=de(B);e.actions.setFilterOptions(Object(m.a)(Object(m.a)({},e.filterOptions),{},{countries:n}))}),[B]),Object(n.useEffect)((function(){var t=z.sortType;e.actions.setFilterOptions(Object(m.a)(Object(m.a)({},e.filterOptions),{},{sort:t}))}),[z]),r.a.createElement("div",{className:"filter-bar-wrapper"},r.a.createElement(O.a,null,r.a.createElement(d.a,{nav:!0,inNavbar:!0},r.a.createElement(E.a,{nav:!0,caret:!0},r.a.createElement(Ne.c,null),"Genre",r.a.createElement("div",{className:"genre-value"},X)),r.a.createElement(g.a,{right:!0},M)),r.a.createElement(d.a,{nav:!0,inNavbar:!0,className:"year-filter"},r.a.createElement(E.a,{nav:!0,caret:!0},r.a.createElement(Ne.b,null)," Year",r.a.createElement("div",{className:"year-value"},ee)),r.a.createElement(g.a,{right:!0},p)),r.a.createElement(d.a,{nav:!0,inNavbar:!0},r.a.createElement(E.a,{nav:!0,caret:!0},r.a.createElement(Ne.a,null)," Country",r.a.createElement("div",{className:"country-value"},ce)),r.a.createElement(g.a,{right:!0},l)),r.a.createElement(d.a,{nav:!0,inNavbar:!0,className:"sort-filter"},r.a.createElement(E.a,{nav:!0,caret:!0},r.a.createElement(ne.a,null)," Sort",r.a.createElement("div",{className:"sort-value"},le)),r.a.createElement(g.a,{right:!0},S)),r.a.createElement(h.a,null,r.a.createElement(ye.a,{color:"info",className:"clear-filter-button"},r.a.createElement(Se.a,null),"Clear Filter"))))})),we=a(156),Me=a(157),Ce=a(158);a(141);function ke(e){var t=e.moviesPerPage,a=e.totalMovies,c=e.currentPage,i=e.paginate,s=e.link,l=Object(n.useState)(0),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)([]),p=Object(o.a)(v,2),b=p[0],O=p[1],d=Object(n.useState)(c),E=Object(o.a)(d,2),g=E[0],h=E[1];return Object(n.useEffect)((function(){h(c)}),[c]),Object(n.useEffect)((function(){for(var e=[],n=1;n<=Math.ceil(a/t);n++)e.push(n);f(e)}),[a]),Object(n.useEffect)((function(){if(m.length>0){var e=m.map((function(e){return r.a.createElement(we.a,{key:e,className:g===e?"active-page":""},r.a.createElement(Me.a,{href:s,onClick:function(){return function(e){i(e),h(e)}(e)}},e))}));O(e)}else O([])}),[m,g]),r.a.createElement(Ce.a,{"aria-label":"Page navigation example"},r.a.createElement(we.a,null,r.a.createElement(Me.a,{first:!0,href:s,onClick:function(){i(1),h(1)}})),r.a.createElement(we.a,null,r.a.createElement(Me.a,{previous:!0,href:s,onClick:function(){c>1&&(i(c-1),h(c-1))}})),b,r.a.createElement(we.a,null,r.a.createElement(Me.a,{next:!0,href:s,onClick:function(){c<m.length&&(i(c+1),h(c+1))}})),r.a.createElement(we.a,null,r.a.createElement(Me.a,{last:!0,href:s,onClick:function(){var e=m.length;i(e),h(e)}})))}var Pe=Object(s.b)((function(e){return{topRatedMovies:0===e.movies.topRatedMovies.length?[]:e.movies.topRatedMovies,filterOptions:e.filterbar,genres:e.genres}}),(function(e){return{actions:{loadTopRatedMovies:Object(H.b)(K,e),setHomePage:Object(H.b)(q,e)}}}))((function(e){var t=this,a=Object(n.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)(1),p=Object(o.a)(v,2),b=p[0],O=p[1],d=40*b,E=d-40,g=m.slice(E,d),h={pageContainer:{"padding-top":"8rem"},topRatedMovieContainer:{margin:"0 1rem",width:"100%"},paginationBar:{justifyContent:"center",alignItems:"center"}};return Object(n.useEffect)((function(){e.actions.setHomePage(!1),0===i.length&&e.actions.loadTopRatedMovies()}),[]),Object(n.useEffect)((function(){s(e.topRatedMovies),f(e.topRatedMovies)}),[e.topRatedMovies]),Object(n.useEffect)((function(){if(i.length>0){var a="Default";e.filterOptions.sort&&(a=e.filterOptions.sort);var n=me(e.filterOptions.genres,e.genres),r=i.filter(Oe.bind(t,n)).filter(de.bind(t,e.filterOptions.years)).filter(Ee.bind(t,e.filterOptions.countries));r=ge(r,a),f(r)}}),[e.filterOptions]),r.a.createElement(ie.a,{id:"top-rated-movies",style:h.pageContainer},r.a.createElement(se.a,{className:"filter-bar"},r.a.createElement(_e,null)),r.a.createElement(se.a,{className:"top-rated-movies"},r.a.createElement("div",{className:"top-rated-movie-list",style:h.topRatedMovieContainer},r.a.createElement(ce,{movieList:g}))),r.a.createElement(se.a,{className:"pagination-bar",style:h.paginationBar},r.a.createElement(ke,{moviesPerPage:40,totalMovies:m.length,currentPage:b,paginate:function(e){return O(e)},link:"#top-rated-movies"})))}));var De=Object(s.b)((function(e){return{popularMovies:0===e.movies.popularMovies.length?[]:e.movies.popularMovies,filterOptions:e.filterbar,genres:e.genres}}),(function(e){return{actions:{loadPopularMovies:Object(H.b)(J,e),setHomePage:Object(H.b)(q,e)}}}))((function(e){var t=this,a=Object(n.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)(1),p=Object(o.a)(v,2),b=p[0],O=p[1],d=40*b,E=d-40,g=m.slice(E,d),h={pageContainer:{"padding-top":"8rem"},popularMovieContainer:{margin:"0 1rem",width:"100%"},paginationBar:{justifyContent:"center",alignItems:"center"}};return Object(n.useEffect)((function(){e.actions.setHomePage(!1),0===i.length&&e.actions.loadPopularMovies()}),[]),Object(n.useEffect)((function(){s(e.popularMovies),f(e.popularMovies)}),[e.popularMovies]),Object(n.useEffect)((function(){if(i.length>0){var a="Default";e.filterOptions.sort&&(a=e.filterOptions.sort);var n=me(e.filterOptions.genres,e.genres),r=i.filter(Oe.bind(t,n)).filter(de.bind(t,e.filterOptions.years)).filter(Ee.bind(t,e.filterOptions.countries));r=ge(r,a),f(r)}}),[e.filterOptions]),r.a.createElement(ie.a,{id:"popular-movies",style:h.pageContainer},r.a.createElement(se.a,{className:"filter-bar"},r.a.createElement(_e,null)),r.a.createElement(se.a,{className:"popular-movies"},r.a.createElement("div",{className:"popular-movie-list",style:h.popularMovieContainer},r.a.createElement(ce,{movieList:g}))),r.a.createElement(se.a,{className:"pagination-bar",style:h.paginationBar},r.a.createElement(ke,{moviesPerPage:40,totalMovies:m.length,currentPage:b,paginate:function(e){return O(e)},link:"#popular-movies"})))}));var Te=Object(s.b)((function(e){return{filterOptions:e.filterbar,genres:e.genres}}),(function(e){return{actions:{setHomePage:Object(H.b)(q,e)}}}))((function(e){var t=this,a=Object(n.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)(1),p=Object(o.a)(v,2),b=p[0],O=p[1],d=Object(n.useState)(""),E=Object(o.a)(d,2),g=E[0],h=E[1],j=40*b,y=j-40,S=m.slice(y,j),N={pageContainer:{"padding-top":"8rem"},searchMovieContainer:{margin:"0 1rem",width:"100%"},searchTitle:{margin:"0rem 1rem 2rem 1rem"},paginationBar:{justifyContent:"center",alignItems:"center"}},_=function(e){for(var t=[],a=1;a<=20;a++)t.push(w(a,e));Promise.all(t).then((function(e){var t=[];e.map((function(e){return e.data.results&&t.push.apply(t,Object(B.a)(e.data.results)),null})),s(t),f(t)})).catch((function(e){throw console.error("API call failed. "+e),e}))},w=function(e,t){var a=P+"search/movie?api_key="+k+"&query=".concat(t,"&page=").concat(e);return L.a.get(a)};return Object(n.useEffect)((function(){if(e.actions.setHomePage(!1),e.location.state){var t=e.location.state.searchString;h(t),_(t),0===i.length&&_(t)}}),[]),Object(n.useEffect)((function(){if(e.location.state){var t=e.location.state.searchString;t!==g&&(h(t),_(t))}}),[e.location.state]),Object(n.useEffect)((function(){if(i.length>0){var a="Default";e.filterOptions.sort&&(a=e.filterOptions.sort);var n=me(e.filterOptions.genres,e.genres),r=i.filter(Oe.bind(t,n)).filter(de.bind(t,e.filterOptions.years)).filter(Ee.bind(t,e.filterOptions.countries));r=ge(r,a),f(r)}}),[e.filterOptions]),r.a.createElement(ie.a,{id:"search-movies",style:N.pageContainer},r.a.createElement(se.a,{className:"search-title"},r.a.createElement("h2",{style:N.searchTitle},"Results for: ".concat(g))),r.a.createElement(se.a,{className:"filter-bar"},r.a.createElement(_e,null)),r.a.createElement(se.a,{className:"search-movies"},r.a.createElement("div",{className:"search-movie-list",style:N.searchMovieContainer},r.a.createElement(ce,{movieList:S}))),r.a.createElement(se.a,{className:"pagination-bar",style:N.paginationBar},i.length>0&&r.a.createElement(ke,{moviesPerPage:40,totalMovies:m.length,currentPage:b,paginate:function(e){return O(e)},link:"#search-movies"})))}));var Ie=Object(s.b)((function(e){return{homepage:e.navbar.homepage}}))((function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(!0),m=Object(o.a)(s,2),f=m[0],v=m[1],p=Object(n.useState)(0),b=Object(o.a)(p,2),O=b[0],d=b[1],E=Object(n.useState)(0),g=Object(o.a)(E,2),h=g[0],j=g[1],y=function(){if(!e.homepage)return v(!1),void i(!0);var t=window.pageYOffset;if(h<=0&&document.querySelector(".carousel")){var a=document.querySelector(".carousel").clientHeight;j(a)}i(O>t),v(!(t>h)),d(t)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",y),function(){window.removeEventListener("scroll",y)}})),Object(n.useEffect)((function(){if(e.homepage){var t=window.pageYOffset;v(0===t)}else v(!1)}),[e.homepage]),r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(G,{showNav:c,isTransparent:f}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/popular",component:De}),r.a.createElement(u.a,{path:"/toprated",component:Pe}),r.a.createElement(u.a,{path:"/details",component:ue}),r.a.createElement(u.a,{path:"/search",component:Te}),r.a.createElement(u.a,{path:"/",component:le}))))}));a(142),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe={nowPlaying:[],searchMovies:[],recommendedMovies:[],upcomingMovies:[],topRatedMovies:[],popularMovies:[]};var Re={homepage:!0};var Ae={genres:[],years:[],countries:[],sort:"Default"};var Le=Object(H.c)({genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_GENRES_SUCCESS":return t.genres;default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_NOW_PLAYING_MOVIE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{nowPlaying:t.movies});case"LOAD_RECOMMENDED_MOVIE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{recommendedMovies:t.movies});case"LOAD_UPCOMING_MOVIE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{upcomingMovies:t.movies});case"LOAD_POPULAR_MOVIE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{popularMovies:t.movies});case"LOAD_TOP_RATED_MOVIE_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{topRatedMovies:t.movies});case"LOAD_LATEST_MOVIES":return Object(m.a)(Object(m.a)({},e),{},{latestMovies:t.latestMovies});case"LOAD_TRENDING_MOVIES":return Object(m.a)(Object(m.a)({},e),{},{trendingMovies:t.trendingMovies});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HOME_PAGE":return Object(m.a)(Object(m.a)({},e),{},{homepage:t.value});default:return e}},filterbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_OPTION":return t.options;default:return e}}}),Ue=a(79);var He=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d;return Object(H.e)(Le,e,t(Object(H.a)(Ue.a)))}();i.a.render(r.a.createElement(s.a,{store:He},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,a){e.exports=a(143)},85:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.c1cfacdc.chunk.js.map