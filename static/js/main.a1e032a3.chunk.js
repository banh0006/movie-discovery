(this["webpackJsonpmovie-discovery"]=this["webpackJsonpmovie-discovery"]||[]).push([[0],{134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),i=a.n(c),o=(a(85),a(5)),s=a(11),l=(a(90),a(22)),u=a(15),m=a(12),f=a(147),v=a(148),p=a(149),d=a(150),b=a(151),E=a(163),g=a(164),O=a(165),h=a(152),j=(a(91),a(71));a(92);function y(){var e=Object(u.f)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1];return r.a.createElement("form",{className:"search-box",onSubmit:function(t){t.preventDefault(),c.length>0?e.push("/search",{searchString:c}):alert("Please input search key words")}},r.a.createElement("input",{type:"text",className:"input",placeholder:"Movie name...",value:c,onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"search-button"},r.a.createElement(j.a,null)))}var w=a(33),N=a.n(w),S=a(39);function _(e){return k.apply(this,arguments)}function k(){return(k=Object(S.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=2;break}return e.abrupt("return",t.data);case 2:if(400!==t.status){e.next=7;break}return e.next=5,t.text();case 5:throw a=e.sent,new Error(a);case 7:throw new Error("Network response was not ok.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){throw console.error("API call failed. "+e),e}var M="323c169d6502f84d4a8a225e5732db2c",P="https://api.themoviedb.org/3/",x="https://image.tmdb.org/t/p/w500",T="Recommend Movies",I="Upcoming Movies",D=["United States","France","Canada","Italy","United Kingdom","Russia","Korean","Japan","Hongkong","China","India","Brazil"],R=[2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010],A=["Default","Release Date","Name","Rate","Most Watched"],L=a(16),U=a.n(L);function F(){return function(e){return U.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=323c169d6502f84d4a8a225e5732db2c").then(_).catch(C).then((function(t){e({type:"LOAD_GENRES_SUCCESS",genres:t.genres})})).catch((function(e){throw console.error(e),e}))}}var H=a(9);var B=Object(s.b)((function(e){return{genres:0===e.genres.length?[]:e.genres,textColor:e.navbar.textColor}}),(function(e){return{actions:{loadGenres:Object(H.b)(F,e)}}}))((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)([]),u=Object(o.a)(s,2),j=u[0],w=u[1],N=D,S=Object(n.useState)(Object(m.a)({},e.showNav)),_=Object(o.a)(S,2),k=_[0],C=_[1],M=Object(n.useState)(Object(m.a)({},e.isTransparent)),P=Object(o.a)(M,2),x=P[0],T=P[1],I=Object(n.useState)(!1),R=Object(o.a)(I,2),A=R[0],L=R[1];return Object(n.useEffect)((function(){C(e.showNav)}),[e.showNav]),Object(n.useEffect)((function(){T(e.isTransparent)}),[e.isTransparent]),Object(n.useEffect)((function(){e.actions.loadGenres();var t=[];N.map((function(e,a){return t.push(r.a.createElement(f.a,{key:a},e)),null})),w(t)}),[]),Object(n.useEffect)((function(){if(e.genres.length>0){var t=[];e.genres.map((function(e,a){return t.push(r.a.createElement(f.a,{key:a},e.name)),null})),i(t)}}),[e.genres]),r.a.createElement(v.a,{fixed:"top",dark:!0,expand:"md",className:"".concat(k?"nav-show":"nav-hide"," ").concat(x?"transparent-nav":"non-transparent")},r.a.createElement(l.c,{to:"/",className:"navbar-brand"},"Home"),r.a.createElement(p.a,{onClick:function(){return L(!A)}}),r.a.createElement(d.a,{isOpen:A,navbar:!0},r.a.createElement(b.a,{className:"mr-auto",navbar:!0},r.a.createElement(E.a,{nav:!0,inNavbar:!0},r.a.createElement(g.a,{nav:!0,caret:!0},"Genre"),r.a.createElement(O.a,{right:!0},c)),r.a.createElement(E.a,{nav:!0,inNavbar:!0},r.a.createElement(g.a,{nav:!0,caret:!0},"Country"),r.a.createElement(O.a,{right:!0},j)),r.a.createElement(h.a,null,r.a.createElement(l.c,{className:"nav-link",to:"/toprated"},"Top Rated")),r.a.createElement(h.a,null,r.a.createElement(l.c,{className:"nav-link",to:"/popular"},"Popular"))),r.a.createElement(h.a,{className:"input-search"},r.a.createElement(y,null))))})),V=a(20),G=a(37);function W(e){var t=P+"movie/popular?api_key="+M+"&page=".concat(e);return U.a.get(t)}function Y(e){var t=P+"movie/top_rated?api_key="+M+"&page=".concat(e);return U.a.get(t)}function z(){return function(e){return U.a.get("https://api.themoviedb.org/3/movie/now_playing?api_key=323c169d6502f84d4a8a225e5732db2c&page=1").then(_).catch(C).then((function(t){var a=[],n=[];if(!(t.results<0)){if(t.results.length>5)for(var r=0;r<5;r++)a.push(t.results[r]);else{var c,i=Object(V.a)(t.results);try{for(i.s();!(c=i.n()).done;){var o=c.value;a.push(o)}}catch(f){i.e(f)}finally{i.f()}}if(t.results.length>20)for(var s=0;s<20;s++)n.push(t.results[s]);else{var l,u=Object(V.a)(t.results);try{for(u.s();!(l=u.n()).done;){var m=l.value;n.push(m)}}catch(f){u.e(f)}finally{u.f()}}e({type:"LOAD_NOW_PLAYING_MOVIE_SUCCESS",movies:a}),e(function(e){return{type:"LOAD_RECOMMENDED_MOVIE_SUCCESS",movies:e}}(n))}})).catch((function(e){throw console.error(e),e}))}}function J(){return function(e){return U.a.get("https://api.themoviedb.org/3/movie/upcoming?api_key=323c169d6502f84d4a8a225e5732db2c&page=1").then(_).catch(C).then((function(t){var a=[];if(!(t.results<0)){if(t.results.length>20)for(var n=0;n<20;n++)a.push(t.results[n]);else{var r,c=Object(V.a)(t.results);try{for(c.s();!(r=c.n()).done;){var i=r.value;a.push(i)}}catch(o){c.e(o)}finally{c.f()}}e({type:"LOAD_UPCOMING_MOVIE_SUCCESS",movies:a})}}))}}function K(){return function(e){return function(){for(var e=[],t=1;t<=20;t++)e.push(W(t));return Promise.all(e).then((function(e){var t=[];return e.map((function(e){return e.data.results&&t.push.apply(t,Object(G.a)(e.data.results)),null})),t})).catch(C)}().then((function(t){e({type:"LOAD_POPULAR_MOVIE_SUCCESS",movies:t})})).catch((function(e){throw console.error(e),e}))}}function q(){return function(e){return function(){for(var e=[],t=1;t<=20;t++)e.push(Y(t));return Promise.all(e).then((function(e){var t=[];return e.map((function(e){return e.data.results&&t.push.apply(t,Object(G.a)(e.data.results)),null})),t})).catch(C)}().then((function(t){e({type:"LOAD_TOP_RATED_MOVIE_SUCCESS",movies:t})})).catch((function(e){throw console.error(e),e}))}}function X(e){return{type:"SET_HOME_PAGE",value:e}}var $=a(75),Q=a(153),Z=a(154),ee=a(155),te=a(156);a(134);var ae=Object(s.b)((function(e){return{nowPlaying:0===e.movies.nowPlaying.length?[]:e.movies.nowPlaying}}))((function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(!1),l=Object(o.a)(s,2),u=l[0],m=l[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),p=v[0],d=v[1];Object(n.useEffect)((function(){if(e.nowPlaying){var t=[];e.nowPlaying.map((function(e){return t.push({src:"".concat("https://image.tmdb.org/t/p/w1280").concat(e.backdrop_path),altText:e.original_title,caption:e.original_title,overview:e.overview}),null})),d(t)}}),[e.nowPlaying]);var b=function(){if(!u){var e=c===p.length-1?0:c+1;i(e)}},E=function(){if(!u){var e=0===c?p.length-1:c-1;i(e)}},g=p.map((function(t){return r.a.createElement($.a,{onExiting:function(){return m(!0)},onExited:function(){return m(!1)},key:t.src},r.a.createElement("img",{src:t.src,alt:t.altText}),r.a.createElement(Q.a,{className:e.textColor,captionText:t.overview,captionHeader:t.caption}))}));return r.a.createElement(Z.a,{activeIndex:c,next:b,previous:E},r.a.createElement(ee.a,{items:p,activeIndex:c,onClickHandler:function(e){u||i(e)}}),g,r.a.createElement(te.a,{direction:"prev",directionText:"Previous",onClickHandler:E}),r.a.createElement(te.a,{direction:"next",directionText:"Next",onClickHandler:b}))}));function ne(e){return r.a.createElement("div",{className:"section-heading"},r.a.createElement("h2",{className:"section-title",style:{color:"#fff"}},e.sectionTitle))}var re=a(27);a(135);var ce=Object(s.b)((function(e){return{genres:e.genres}}))((function(e){return r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"image-card"},r.a.createElement(l.b,{to:e.changeId?"".concat(e.movie.id):"details/".concat(e.movie.id)},r.a.createElement("img",{className:"movie-img",src:x+e.movie.poster_path,alt:e.movie.title})),r.a.createElement("div",{className:"movie-info"},r.a.createElement(re.b,{color:"#fff"}),r.a.createElement("div",{className:"info-text"},r.a.createElement("h3",{className:"title"},e.movie.title),r.a.createElement("p",{className:"overview"},e.movie.overview),r.a.createElement("p",{className:"genre"},"Genre: "+function(t){var a=[];return e.genres.map((function(e){var n,r=Object(V.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;e.id===c&&a.push(e.name)}}catch(i){r.e(i)}finally{r.f()}return null})),a=a.join(", ")}(e.movie.genre_ids)),r.a.createElement("p",{className:"release-date"},e.movie.release_date),r.a.createElement("p",{className:"rate"},r.a.createElement(re.c,{color:"yellow",size:22}),e.movie.vote_average)))))}));function ie(e){var t=e.movieList.map((function(e){return r.a.createElement(ce,{key:e.id,movie:e})}));return r.a.createElement("div",{className:"movie-list"},t)}var oe=a(157);a(136);var se=Object(s.b)((function(e){return{recommended:e.movies.recommendedMovies,upcoming:e.movies.upcomingMovies}}),(function(e){return{actions:{}}}))((function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)([]),l=Object(o.a)(s,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){switch(i(e.sectionName),e.sectionName){case T:m(e.recommended);break;case I:m(e.upcoming)}}),[e.recommended,e.upcoming]),r.a.createElement(oe.a,{className:"movie-section"},r.a.createElement("div",null,r.a.createElement(ne,{sectionTitle:c})),r.a.createElement("div",null,r.a.createElement(ie,{movieList:u})))})),le=a(158);a(137);var ue=Object(s.b)((function(e){return{}}),(function(e){return{actions:{loadNowPlayingMovies:Object(H.b)(z,e),loadUpcomingMovies:Object(H.b)(J,e),setHomePage:Object(H.b)(X,e)}}}))((function(e){var t={sectionContainer:{"margin-top":"2rem"}};return Object(n.useEffect)((function(){e.actions.setHomePage(!0),e.actions.loadNowPlayingMovies(),e.actions.loadUpcomingMovies()}),[]),r.a.createElement(oe.a,null,r.a.createElement(le.a,null,r.a.createElement(ae,null)),r.a.createElement(le.a,{style:t.sectionContainer},r.a.createElement(se,{sectionName:T})),r.a.createElement(le.a,{style:t.sectionContainer},r.a.createElement(se,{sectionName:I})))})),me=a(159);function fe(e){var t=e.name,a=e.url,n={cardContainer:{maxWidth:"60px",marginRight:"1rem"},cardImage:{width:"100%"},cardText:{textAlign:"center"}};return r.a.createElement("div",{className:"cast-info",style:n.cardContainer},r.a.createElement("img",{src:x+a,alt:"Not found",style:n.cardImage}),r.a.createElement("div",{className:"cast-name",style:n.cardText},t))}var ve=a(77),pe=(a(138),a(76)),de=a.n(pe);a(141);function be(e){var t=e.movies.map((function(e){return r.a.createElement("div",null,r.a.createElement(ce,{key:e.id,movie:e,changeId:!0}))}));return r.a.createElement(de.a,Object.assign({},{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,dynamicBullets:!0},spaceBetween:100,breakpoints:{1350:{slidesPerView:4,spaceBetween:40},1e3:{slidesPerView:3,spaceBetween:30},650:{slidesPerView:2,spaceBetween:20},300:{slidesPerView:1,spaceBetween:10}},freeMode:!0},{shouldSwiperUpdate:!0}),t)}var Ee=Object(s.b)((function(e){return{nowPlaying:0===e.movies.nowPlaying.length?[]:e.movies.nowPlaying}}))((function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){e.movieId&&function(e){var t=P+"movie/"+e+"/recommendations?api_key="+M;U.a.get(t).then((function(e){if(200===e.status)return console.log(e.data),e.data;if(400===e.status){var t=e.text();throw new Error(t)}throw new Error("Network response was not ok.")})).then((function(e){if(e.results.length>10){var t=e.results.slice(0,10);i(t)}else i(e.results)}))}(e.movieId)}),[e.movieId]),Object(n.useEffect)((function(){c.length>0&&m(r.a.createElement(be,{movies:c}))}),[c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"You may also like"),r.a.createElement("div",null,u))}));var ge=Object(s.b)((function(e){return{genres:e.genres}}),(function(e){return{actions:{setHomePage:Object(H.b)(X,e)}}}))((function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),u=l[0],m=l[1],f=Object(n.useState)({}),v=Object(o.a)(f,2),p=v[0],d=v[1],b=Object(n.useState)([]),E=Object(o.a)(b,2),g=E[0],O=E[1],h=Object(n.useState)({}),j=Object(o.a)(h,2),y=j[0],w=j[1];return Object(n.useEffect)((function(){e.actions.setHomePage(!1);var t=e.match.params.id;!function(e){var t=P+"movie/"+e+"?api_key="+M;U.a.get(t).then((function(e){if(200===e.status)return e.data;if(400===e.status){var t=e.text();throw new Error(t)}throw new Error("Network response was not ok.")})).then((function(e){return i(e)}))}(t),function(e){var t=P+"movie/"+e+"/credits?api_key="+M;U.a.get(t).then((function(e){if(200===e.status)return e.data;if(400===e.status){var t=e.text();throw new Error(t)}throw new Error("Network response was not ok.")})).then((function(e){return d(e)}))}(t),function(e){var t=P+"movie/"+e+"/videos?api_key="+M;U.a.get(t).then((function(e){if(200===e.status)return e.data;if(400===e.status){var t=e.text();throw new Error(t)}throw new Error("Network response was not ok.")})).then((function(e){0===e.results.length&&w({});var t=e.results.find((function(e){return"Official Trailer"===e.name}));if(t)w(t);else{var a;a=e.results[0],w(a)}}))}(t)}),[e.match.params.id]),Object(n.useEffect)((function(){if(c.genres){var t=function(t){var a=[];if(t){var n,r=Object(V.a)(t);try{var c=function(){var t=n.value;e.genres.map((function(e){return t.id===e.id&&a.push(t.name),null}))};for(r.s();!(n=r.n()).done;)c()}catch(i){r.e(i)}finally{r.f()}a=a.join(", ")}return a}(c.genres);console.log(t),m(t)}}),[c]),Object(n.useEffect)((function(){if(p.cast){var e=p.cast.slice(0,5).map((function(e){return r.a.createElement(fe,{key:e.credit_id,name:e.name,url:e.profile_path})}));O(e)}}),[p]),r.a.createElement(oe.a,{id:"movie-details",style:{paddingTop:"8rem",paddingBottom:"2rem"}},r.a.createElement(le.a,{className:"movie-details-info"},r.a.createElement(me.a,{sm:"12",xs:"5",md:"5",lg:"4",className:"movie-poster"},r.a.createElement("img",{className:"movie-detail-img",src:x+c.poster_path,alt:c.title})),r.a.createElement(me.a,{sm:"12",xs:"6",md:"6",lg:"5",className:"detail-info-text"},r.a.createElement(le.a,{className:"movie-detail-title"},r.a.createElement("h2",null,c.title)),r.a.createElement(le.a,{className:"movie-detail-view"},r.a.createElement(re.c,{color:"yellow"}),c.vote_average,r.a.createElement("div",{className:"movie-duration"},r.a.createElement(ve.a,{color:"#fff"})," ",c.runtime," min"),c.vote_count," voted"),r.a.createElement(le.a,{className:"movie-detail-overview"},c.overview),r.a.createElement(le.a,{className:"movie-detail-release_date"},"Release Date: ",c.release_date),r.a.createElement(le.a,{className:"movie-detail-genre"},"Genre: ",u," "),r.a.createElement(le.a,{className:"movie-detail-director"},"Director: ",function(){if(p.crew){var e=p.crew.find((function(e){return"Director"===e.job}));return e?e.name:"Not found"}}()),r.a.createElement(le.a,{className:"cast-text"},"Cast: "),r.a.createElement(le.a,{className:"movie-detail-cast"},g))),r.a.createElement(le.a,{className:"trailer"},y&&r.a.createElement(me.a,{sm:"12",xs:"11",md:"12",lg:"9",className:"trailer-container"},r.a.createElement("iframe",{src:y.key?"https://www.youtube.com/embed/"+y.key:null,title:c.title}))),r.a.createElement(le.a,{className:"recommendation"},r.a.createElement(me.a,null,r.a.createElement("div",{className:"recommmended movies"},r.a.createElement(Ee,{movieId:c.id})))))}));function Oe(e){return{type:"SET_FILTER_OPTION",options:e}}function he(){return{type:"CLEAR_FILTER"}}var je=function(e,t){var a=[];return 0===e.length||t.map((function(t){var n,r=Object(V.a)(e);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.name===c&&a.push(t.id)}}catch(i){r.e(i)}finally{r.f()}return null})),a},ye=function(e,t){return new Date(e.release_date)>new Date(t.release_date)},we=function(e,t){return e.title.localeCompare(t.title)},Ne=function(e,t){return e.vote_average===t.vote_average?0:e.vote_average>t.vote_average?-1:1},Se=function(e,t){return e.popularity===t.popularity?0:e.popularity>t.popularity?1:-1},_e=function(e,t){return 0===e.length||e.every((function(e){return t.genre_ids.includes(e)}))},ke=function(e,t){return 0===e.length||!!t.release_date&&e.includes(t.release_date.substring(0,4))},Ce=function(e,t){return 0===e.length||!!t.original_language&&function(e){var t=[];return e.map((function(e){return t.push(function(e){switch(e){case"United States":case"Canada":case"United Kingdom":return"en";case"France":return"fr";case"Italy":return"it";case"Russia":return"ru";case"Korean":return"ko";case"Japan":return"ja";case"Hongkong":case"China":return"zh";case"Brazil":return"pt";case"India":return"hi";default:return"en"}}(e)),null})),t}(e).includes(t.original_language)},Me=function(e,t){switch(t){case"Default":return e;case"Release Date":return e.sort(ye);case"Name":return e.sort(we);case"Rate":return e.sort(Ne);case"Most Watched":return e.sort(Se);default:return e}},Pe=a(28),xe=a(72),Te=(a(142),a(78)),Ie=a(41);var De=Object(s.b)((function(e){return{genres:0===e.genres.length?[]:e.genres,filterOptions:e.filterbar}}),(function(e){return{actions:{setFilterOptions:Object(H.b)(Oe,e),clearFilter:Object(H.b)(he,e)}}}))((function(e){var t=D,a=R,c=A,i=Object(n.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1],f=Object(n.useState)([]),v=Object(o.a)(f,2),p=v[0],d=v[1],j=Object(n.useState)([]),y=Object(o.a)(j,2),w=y[0],_=y[1],k=Object(n.useState)([]),C=Object(o.a)(k,2),M=C[0],P=C[1],x=Object(n.useState)([]),T=Object(o.a)(x,2),I=T[0],L=T[1],U=Object(n.useState)([]),F=Object(o.a)(U,2),H=F[0],B=F[1],V=Object(n.useState)([]),G=Object(o.a)(V,2),W=G[0],Y=G[1],z=Object(n.useState)({sortType:"Default"}),J=Object(o.a)(z,2),K=J[0],q=J[1],X=Object(n.useState)(!1),$=Object(o.a)(X,2),Q=$[0],Z=$[1],ee=Object(n.useState)("All"),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)("All"),ie=Object(o.a)(ce,2),oe=ie[0],se=ie[1],le=Object(n.useState)("All"),ue=Object(o.a)(le,2),me=ue[0],fe=ue[1],ve=Object(n.useState)("Default"),pe=Object(o.a)(ve,2),de=pe[0],be=pe[1],Ee=function(e){var t=e.target,a=t.name,n=t.checked;L((function(e){return Object(m.a)({},e,Object(Pe.a)({},a,n))}))},ge=function(e){var t=e.target,a=t.name,n=t.checked;B((function(e){return Object(m.a)({},e,Object(Pe.a)({},a,n))}))},Oe=function(e){var t=e.target,a=t.name,n=t.checked;Y((function(e){return Object(m.a)({},e,Object(Pe.a)({},a,n))}))},he=function(e){var t=e.target.value;q((function(e){return Object(m.a)({},e,{sortType:t})}))},je=function(e){return Object.keys(e).length},ye=function(e){return 0===je(e)?0:Object.values(e).reduce((function(e,t){return e+(!0===t?1:0)}),0)},we=function(e){return Object.keys(e).find((function(t){return!0===e[t]}))},Ne=function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(o.a)(n[a],2),c=r[0];!0===r[1]&&t.push(c)}return t},Se=function(){var t=Object(S.a)(N.a.mark((function t(){var a,n,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Z(!0),!(je(H)>0)){t.next=5;break}return a=_e(H),t.next=5,B(a);case 5:if(!(je(W)>0)){t.next=9;break}return n=_e(W),t.next=9,Y(n);case 9:if(!(je(I)>0)){t.next=13;break}return r=_e(I),t.next=13,L(r);case 13:return t.next=15,q({sortType:"Default"});case 15:e.actions.clearFilter(),Z(!1);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),_e=function(e){var t={};return Object.keys(e).map((function(e){t=Object(m.a)({},t,Object(Pe.a)({},e,!1))})),t};return Object(n.useEffect)((function(){var n=[],i=[],o=[];t.map((function(e,t){return n.push(r.a.createElement("div",{key:t,className:"dropdown-item country-filter-item"},r.a.createElement("input",{type:"checkbox",name:e,checked:W[e],onChange:Oe}),e)),null})),a.map((function(e,t){return i.push(r.a.createElement("div",{key:t,className:"dropdown-item year-filter-item"},r.a.createElement("input",{type:"checkbox",name:e,checked:H[e],onChange:ge}),e)),null})),c.map((function(t,a){return o.push(r.a.createElement("div",{key:a,className:"dropdown-item sort-filter-item"},r.a.createElement("input",{type:"radio",name:"sort",checked:e.filterOptions.sort===t,key:a,value:t,onChange:he}),t)),null})),u(n),d(i),_(o)}),[]),Object(n.useEffect)((function(){var t=[];if(a.map((function(e,a){return t.push(r.a.createElement("div",{key:a,className:"dropdown-item year-filter-item"},r.a.createElement("input",{type:"checkbox",name:e,checked:H[e],onChange:ge}),e)),d(t),null})),Q)se("All");else{var n=ye(H);if(0===n)se("All");else if(1===n){var c=we(H);se(c)}else se("".concat(n," selected"));var i=Ne(H);e.actions.setFilterOptions(Object(m.a)({},e.filterOptions,{years:i}))}}),[H]),Object(n.useEffect)((function(){var a=[];if(t.map((function(e,t){return a.push(r.a.createElement("div",{key:t,className:"dropdown-item country-filter-item"},r.a.createElement("input",{type:"checkbox",name:e,checked:W[e],onChange:Oe}),e)),u(a),null})),Q)fe("All");else{var n=ye(W);if(0===n)fe("All");else if(1===n){var c=we(W);fe(c)}else fe("".concat(n," selected"));var i=Ne(W);e.actions.setFilterOptions(Object(m.a)({},e.filterOptions,{countries:i}))}}),[W]),Object(n.useEffect)((function(){var t=[];if(c.map((function(e,a){return t.push(r.a.createElement("div",{key:a,className:"dropdown-item sort-filter-item"},r.a.createElement("input",{type:"radio",name:"sort",key:a,checked:K.sortType===e,value:e,onChange:he}),e)),_(t),null})),Q)be("Default");else{var a=K.sortType;be(a),e.actions.setFilterOptions(Object(m.a)({},e.filterOptions,{sort:a}))}}),[K]),Object(n.useEffect)((function(){if(e.genres.length>0){var t=[];e.genres.map((function(e,a){return t.push(r.a.createElement("div",{key:a,className:"dropdown-item genre-filter-item"},r.a.createElement("input",{type:"checkbox",name:e.name,checked:I[e.name],onChange:Ee}),e.name)),null})),P(t)}if(Q)ne("All");else{var a=ye(I);if(0===a)ne("All");else if(1===a){var n=we(I);ne(n)}else ne("".concat(a," selected"));var c=Ne(I);e.actions.setFilterOptions(Object(m.a)({},e.filterOptions,{genres:c}))}}),[e.genres,I]),r.a.createElement("div",{className:"filter-bar-wrapper"},r.a.createElement(b.a,null,r.a.createElement(E.a,{nav:!0,inNavbar:!0},r.a.createElement(g.a,{nav:!0,caret:!0},r.a.createElement(Ie.c,null),"Genre",r.a.createElement("div",{className:"genre-value"},ae)),r.a.createElement(O.a,{right:!0},M)),r.a.createElement(E.a,{nav:!0,inNavbar:!0,className:"year-filter"},r.a.createElement(g.a,{nav:!0,caret:!0},r.a.createElement(Ie.b,null)," Year",r.a.createElement("div",{className:"year-value"},oe)),r.a.createElement(O.a,{right:!0},p)),r.a.createElement(E.a,{nav:!0,inNavbar:!0},r.a.createElement(g.a,{nav:!0,caret:!0},r.a.createElement(Ie.a,null)," Country",r.a.createElement("div",{className:"country-value"},me)),r.a.createElement(O.a,{right:!0},l)),r.a.createElement(E.a,{nav:!0,inNavbar:!0,className:"sort-filter"},r.a.createElement(g.a,{nav:!0,caret:!0},r.a.createElement(re.a,null)," Sort",r.a.createElement("div",{className:"sort-value"},de)),r.a.createElement(O.a,{right:!0},w)),r.a.createElement(h.a,null,r.a.createElement(xe.a,{color:"info",className:"clear-filter-button",onClick:Se},r.a.createElement(Te.a,null),"Clear Filter"))))})),Re=a(160),Ae=a(161),Le=a(162);a(143);function Ue(e){var t=e.moviesPerPage,a=e.totalMovies,c=e.currentPage,i=e.paginate,s=e.link,l=Object(n.useState)(0),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)([]),p=Object(o.a)(v,2),d=p[0],b=p[1],E=Object(n.useState)(c),g=Object(o.a)(E,2),O=g[0],h=g[1];return Object(n.useEffect)((function(){h(c)}),[c]),Object(n.useEffect)((function(){for(var e=[],n=1;n<=Math.ceil(a/t);n++)e.push(n);f(e)}),[a]),Object(n.useEffect)((function(){if(m.length>0){var e=m.map((function(e){return r.a.createElement(Re.a,{key:e,className:O===e?"active-page":""},r.a.createElement(Ae.a,{href:s,onClick:function(){return function(e){i(e),h(e)}(e)}},e))}));b(e)}else b([])}),[m,O]),r.a.createElement(Le.a,{"aria-label":"Page navigation example"},r.a.createElement(Re.a,null,r.a.createElement(Ae.a,{first:!0,href:s,onClick:function(){i(1),h(1)}})),r.a.createElement(Re.a,null,r.a.createElement(Ae.a,{previous:!0,href:s,onClick:function(){c>1&&(i(c-1),h(c-1))}})),d,r.a.createElement(Re.a,null,r.a.createElement(Ae.a,{next:!0,href:s,onClick:function(){c<m.length&&(i(c+1),h(c+1))}})),r.a.createElement(Re.a,null,r.a.createElement(Ae.a,{last:!0,href:s,onClick:function(){var e=m.length;i(e),h(e)}})))}var Fe=Object(s.b)((function(e){return{topRatedMovies:0===e.movies.topRatedMovies.length?[]:e.movies.topRatedMovies,filterOptions:e.filterbar,genres:e.genres}}),(function(e){return{actions:{loadTopRatedMovies:Object(H.b)(q,e),setHomePage:Object(H.b)(X,e),clearFilter:Object(H.b)(he,e)}}}))((function(e){var t=this,a=Object(n.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)(1),p=Object(o.a)(v,2),d=p[0],b=p[1],E=40*d,g=E-40,O=m.slice(g,E),h={pageContainer:{"padding-top":"8rem"},pageTitle:{margin:"0rem 1rem 2rem 1rem"},topRatedMovieContainer:{margin:"0 1rem",width:"100%"},paginationBar:{justifyContent:"center",alignItems:"center"}};return Object(n.useEffect)((function(){e.actions.setHomePage(!1),0===i.length&&e.actions.loadTopRatedMovies(),e.actions.clearFilter()}),[]),Object(n.useEffect)((function(){s(e.topRatedMovies),f(e.topRatedMovies)}),[e.topRatedMovies]),Object(n.useEffect)((function(){!function(){if(i.length>0){var a=i,n="Default";if(e.filterOptions.sort&&(n=e.filterOptions.sort),e.filterOptions.genres.length>0){var r=je(e.filterOptions.genres,e.genres);a=a.filter(_e.bind(t,r))}e.filterOptions.years.length>0&&(a=a.filter(ke.bind(t,e.filterOptions.years))),e.filterOptions.countries.length>0&&(a=a.filter(Ce.bind(t,e.filterOptions.countries))),a=Me(a,n),f(a)}}()}),[e.filterOptions]),r.a.createElement(oe.a,{id:"top-rated-movies",style:h.pageContainer},r.a.createElement(le.a,{className:"page-title"},r.a.createElement("h2",{style:h.pageTitle},"Top rated movies")),r.a.createElement(le.a,{className:"filter-bar"},r.a.createElement(De,null)),r.a.createElement(le.a,{className:"top-rated-movies"},r.a.createElement("div",{className:"top-rated-movie-list",style:h.topRatedMovieContainer},r.a.createElement(ie,{movieList:O}))),r.a.createElement(le.a,{className:"pagination-bar",style:h.paginationBar},r.a.createElement(Ue,{moviesPerPage:40,totalMovies:m.length,currentPage:d,paginate:function(e){return b(e)},link:"#top-rated-movies"})))}));var He=Object(s.b)((function(e){return{popularMovies:0===e.movies.popularMovies.length?[]:e.movies.popularMovies,filterOptions:e.filterbar,genres:e.genres}}),(function(e){return{actions:{loadPopularMovies:Object(H.b)(K,e),setHomePage:Object(H.b)(X,e),clearFilter:Object(H.b)(he,e)}}}))((function(e){var t=this,a=Object(n.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)(1),p=Object(o.a)(v,2),d=p[0],b=p[1],E=40*d,g=E-40,O=m.slice(g,E),h={pageContainer:{"padding-top":"8rem"},pageTitle:{margin:"0rem 1rem 2rem 1rem"},popularMovieContainer:{margin:"0 1rem",width:"100%"},paginationBar:{justifyContent:"center",alignItems:"center"}};return Object(n.useEffect)((function(){e.actions.setHomePage(!1),0===i.length&&e.actions.loadPopularMovies(),e.actions.clearFilter()}),[]),Object(n.useEffect)((function(){s(e.popularMovies),f(e.popularMovies)}),[e.popularMovies]),Object(n.useEffect)((function(){if(i.length>0){var a="Default";e.filterOptions.sort&&(a=e.filterOptions.sort);var n=je(e.filterOptions.genres,e.genres),r=i.filter(_e.bind(t,n)).filter(ke.bind(t,e.filterOptions.years)).filter(Ce.bind(t,e.filterOptions.countries));r=Me(r,a),f(r)}}),[e.filterOptions]),r.a.createElement(oe.a,{id:"popular-movies",style:h.pageContainer},r.a.createElement(le.a,{className:"page-title"},r.a.createElement("h2",{style:h.pageTitle},"Popular movies")),r.a.createElement(le.a,{className:"filter-bar"},r.a.createElement(De,null)),r.a.createElement(le.a,{className:"popular-movies"},r.a.createElement("div",{className:"popular-movie-list",style:h.popularMovieContainer},r.a.createElement(ie,{movieList:O}))),r.a.createElement(le.a,{className:"pagination-bar",style:h.paginationBar},r.a.createElement(Ue,{moviesPerPage:40,totalMovies:m.length,currentPage:d,paginate:function(e){return b(e)},link:"#popular-movies"})))}));var Be=Object(s.b)((function(e){return{filterOptions:e.filterbar,genres:e.genres}}),(function(e){return{actions:{setHomePage:Object(H.b)(X,e),clearFilter:Object(H.b)(he,e)}}}))((function(e){var t=this,a=Object(n.useState)([]),c=Object(o.a)(a,2),i=c[0],s=c[1],l=Object(n.useState)([]),u=Object(o.a)(l,2),m=u[0],f=u[1],v=Object(n.useState)(1),p=Object(o.a)(v,2),d=p[0],b=p[1],E=Object(n.useState)(""),g=Object(o.a)(E,2),O=g[0],h=g[1],j=40*d,y=j-40,w=m.slice(y,j),N={pageContainer:{"padding-top":"8rem"},searchMovieContainer:{margin:"0 1rem",width:"100%"},searchTitle:{margin:"0rem 1rem 2rem 1rem"},paginationBar:{justifyContent:"center",alignItems:"center"}},S=function(e){for(var t=[],a=1;a<=20;a++)t.push(_(a,e));Promise.all(t).then((function(e){var t=[];e.map((function(e){return e.data.results&&t.push.apply(t,Object(G.a)(e.data.results)),null})),s(t),f(t)})).catch((function(e){throw console.error("API call failed. "+e),e}))},_=function(e,t){var a=P+"search/movie?api_key="+M+"&query=".concat(t,"&page=").concat(e);return U.a.get(a)};return Object(n.useEffect)((function(){if(e.actions.setHomePage(!1),e.location.state){var t=e.location.state.searchString;h(t),S(t),0===i.length&&S(t)}e.actions.clearFilter()}),[]),Object(n.useEffect)((function(){if(e.location.state){var t=e.location.state.searchString;t!==O&&(h(t),S(t))}}),[e.location.state]),Object(n.useEffect)((function(){if(i.length>0){var a="Default";e.filterOptions.sort&&(a=e.filterOptions.sort);var n=je(e.filterOptions.genres,e.genres),r=i.filter(_e.bind(t,n)).filter(ke.bind(t,e.filterOptions.years)).filter(Ce.bind(t,e.filterOptions.countries));r=Me(r,a),f(r)}}),[e.filterOptions]),r.a.createElement(oe.a,{id:"search-movies",style:N.pageContainer},r.a.createElement(le.a,{className:"search-title"},r.a.createElement("h2",{style:N.searchTitle},"Results for: ".concat(O))),r.a.createElement(le.a,{className:"filter-bar"},r.a.createElement(De,null)),r.a.createElement(le.a,{className:"search-movies"},r.a.createElement("div",{className:"search-movie-list",style:N.searchMovieContainer},r.a.createElement(ie,{movieList:w}))),r.a.createElement(le.a,{className:"pagination-bar",style:N.paginationBar},i.length>0&&r.a.createElement(Ue,{moviesPerPage:40,totalMovies:m.length,currentPage:d,paginate:function(e){return b(e)},link:"#search-movies"})))}));var Ve=Object(s.b)((function(e){return{homepage:e.navbar.homepage}}))((function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(!0),m=Object(o.a)(s,2),f=m[0],v=m[1],p=Object(n.useState)(0),d=Object(o.a)(p,2),b=d[0],E=d[1],g=Object(n.useState)(0),O=Object(o.a)(g,2),h=O[0],j=O[1],y=function(){if(!e.homepage)return v(!1),void i(!0);var t=window.pageYOffset;if(h<=0&&document.querySelector(".carousel")){var a=document.querySelector(".carousel").clientHeight;j(a)}i(b>t),v(!(t>h)),E(t)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",y),function(){window.removeEventListener("scroll",y)}})),Object(n.useEffect)((function(){if(e.homepage){var t=window.pageYOffset;v(0===t)}else v(!1)}),[e.homepage]),r.a.createElement(l.a,{basename:"/movie-discovery"},r.a.createElement("div",{className:"App"},r.a.createElement(B,{showNav:c,isTransparent:f}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/popular",component:He}),r.a.createElement(u.a,{path:"/toprated",component:Fe}),r.a.createElement(u.a,{path:"/details/:id",component:ge}),r.a.createElement(u.a,{path:"/search",component:Be}),r.a.createElement(u.a,{path:"/",component:ue}))))}));a(144),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge={nowPlaying:[],searchMovies:[],recommendedMovies:[],upcomingMovies:[],topRatedMovies:[],popularMovies:[]};var We={homepage:!0};var Ye={genres:[],years:[],countries:[],sort:"Default"};var ze=Object(H.c)({genres:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_GENRES_SUCCESS":return t.genres;default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_NOW_PLAYING_MOVIE_SUCCESS":return Object(m.a)({},e,{nowPlaying:t.movies});case"LOAD_RECOMMENDED_MOVIE_SUCCESS":return Object(m.a)({},e,{recommendedMovies:t.movies});case"LOAD_UPCOMING_MOVIE_SUCCESS":return Object(m.a)({},e,{upcomingMovies:t.movies});case"LOAD_POPULAR_MOVIE_SUCCESS":return Object(m.a)({},e,{popularMovies:t.movies});case"LOAD_TOP_RATED_MOVIE_SUCCESS":return Object(m.a)({},e,{topRatedMovies:t.movies});case"LOAD_LATEST_MOVIES":return Object(m.a)({},e,{latestMovies:t.latestMovies});case"LOAD_TRENDING_MOVIES":return Object(m.a)({},e,{trendingMovies:t.trendingMovies});default:return e}},navbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HOME_PAGE":return Object(m.a)({},e,{homepage:t.value});default:return e}},filterbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_OPTION":return t.options;case"CLEAR_FILTER":return Ye;default:return e}}}),Je=a(79);var Ke=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||H.d;return Object(H.e)(ze,e,t(Object(H.a)(Je.a)))}();i.a.render(r.a.createElement(s.a,{store:Ke},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,a){e.exports=a(146)},85:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.a1e032a3.chunk.js.map